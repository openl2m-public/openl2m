{% load helpers %}

<div class="card border-default">
  <div class="card-header bg-default">
    <strong>Command Templates</strong>
  </div>
  <div class="card-body">
  {% for t in switch.command_templates.all %}
    <div class="rowmt-2 mb-2">
      <div class="col-3">
        <div>
          <a data-bs-toggle="collapse" href="#cmd_template_{{ t.id }}_details" aria-expanded="false" aria-controls="cmd_template_{{ t.id }}_details">
            <span data-bs-toggle="tooltip" title="{{ t.description }}">{{ t.name }}</span>
          </a>
        </div>
        <div id="cmd_template_{{ t.id }}_details" class="collapse">
          <div class="card border-default mt-2 mb-2">
            <div class="card-header bg-default">
              {{ t.description }}
            </div>
            <div class="card-body">
              <form name="command_template_{{ t.id }}_form"
                    action="{% url 'switches:switch_cmd_template_output' group.id switch.id %}"
                    method="post">
                    {% csrf_token %}
                    <table class="table table-hover table-headings">
                      <tbody>
                        {% if t.field1_name %}
                        <tr>
                          <td>{{ t.field1_name }}</td>
                          <td><input type="text" class="form-control" name="field1" value=""
                                   data-bs-toggle="tooltip" title="{{ t.field1_description }}"></td>
                         </tr>
                        {% endif %}
                        {% if t.field2_name %}
                        <tr>
                          <td>{{ t.field2_name }}</td>
                          <td><input type="text" class="form-control" name="field2" value=""
                                   data-bs-toggle="tooltip" title="{{ t.field2_description }}"></td>
                        </tr>
                        {% endif %}
                        {% if t.field3_name %}
                        <tr>
                          <td>{{ t.field3_name }}</td>
                          <td><input type="text" class="form-control" name="field3" value=""
                                   data-bs-toggle="tooltip" title="{{ t.field3_description }}"></td>
                        </tr>
                        {% endif %}
                        {% if t.field4_name %}
                        <tr>
                          <td>{{ t.field4_name }}</td>
                          <td><input type="text" class="form-control" name="field4" value=""
                                   data-bs-toggle="tooltip" title="{{ t.field4_description }}"></td>
                        </tr>
                        {% endif %}
                        {% if t.field5_name %}
                        <tr>
                          <td>{{ t.field5_name }}</td>
                          <td><input type="text" class="form-control" name="field5" value=""
                                   data-bs-toggle="tooltip" title="{{ t.field5_description }}"></td>
                        </tr>
                        {% endif %}
                        {% if t.field6_name %}
                        <tr>
                          <td>{{ t.field6_name }}</td>
                          <td><input type="text" class="form-control" name="field6" value=""
                                   data-bs-toggle="tooltip" title="{{ t.field6_description }}"></td>
                        </tr>
                        {% endif %}
                        {% if t.field7_name %}
                        <tr>
                          <td>{{ t.field7_name }}</td>
                          <td><input type="text" class="form-control" name="field7" value=""
                                   data-bs-toggle="tooltip" title="{{ t.field7_description }}"></td>
                        </tr>
                        {% endif %}
                        {% if t.field8_name %}
                        <tr>
                          <td>{{ t.field8_name }}</td>
                          <td><input type="text" class="form-control" name="field8" value=""
                                   data-bs-toggle="tooltip" title="{{ t.field8_description }}"></td>
                        </tr>
                        {% endif %}
                        {% if t.list1_name %}
                        <tr>
                          <td>{{ t.list1_name }}</td>
                          <td>
                            <select name="list1" class="form-select" data-bs-toggle="tooltip" title="{{ t.list1_description }}">
                              {{ t.list1_values | get_options_from_comma_string }}
                            </select>
                          </td>
                        </tr>
                        {% endif %}
                        {% if t.list2_name %}
                        <tr>
                          <td>{{ t.list2_name }}</td>
                          <td>
                            <select name="list2" class="form-select" data-bs-toggle="tooltip" title="{{ t.list2_description }}">
                              {{ t.list2_values | get_options_from_comma_string }}
                            </select>
                          </td>
                        </tr>
                        {% endif %}
                        {% if t.list3_name %}
                        <tr>
                          <td>{{ t.list3_name }}</td>
                          <td>
                            <select name="list3" class="form-select" data-bs-toggle="tooltip" title="{{ t.list3_description }}">
                              {{ t.list3_values | get_options_from_comma_string }}
                            </select>
                          </td>
                        </tr>
                        {% endif %}
                        {% if t.list4_name %}
                        <tr>
                          <td>{{ t.list4_name }}</td>
                          <td>
                            <select name="list4" class="form-select" data-bs-toggle="tooltip" title="{{ t.list4_description }}">
                              {{ t.list4_values | get_options_from_comma_string }}
                            </select>
                          </td>
                        </tr>
                        {% endif %}
                        {% if t.list5_name %}
                        <tr>
                          <td>{{ t.list5_name }}</td>
                          <td>
                            <select name="list5" class="form-select" data-bs-toggle="tooltip" title="{{ t.list5_description }}">
                              {{ t.list5_values | get_options_from_comma_string }}
                            </select>
                          </td>
                        </tr>
                        {% endif %}
                      </tbody>
                    </table>
                    <input type="hidden" id="id" name="template_id" value="{{ t.id }}">
                  &nbsp;<input type="submit" value="Run" class="btn btn-primary" data-bs-toggle="tooltip" title="Click to run command template">
              </form>
            </div>{# class card-body #}
          </div> {# class card #}
        </div>{# collapse #}
      </div>{# col of template #}
    </div>{# row of template #}
  {% endfor %}{# for each template #}
  </div>{# card-body top #}
</div>{# card top #}
